# üöÄ –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò: –û–¢ –°–¢–ê–†–û–ô –ö –ù–û–í–û–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–ï

## üìã **–¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
- **3 –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ–∑–¥–∞—é—Ç –ø—É—Ç–∞–Ω–∏—Ü—É:
  - `ScriptExecutor.java` (—Å—Ç–∞—Ä—ã–π, —Ä–∞–±–æ—á–∏–π)
  - `HybridScriptExecutor.java` (–ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –º–æ—Å—Ç) 
  - `EnhancedScriptExecutor.java` (–Ω–æ–≤—ã–π, —á–∏—Å—Ç—ã–π)

### **–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞—Ç—å **–µ–¥–∏–Ω—É—é —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É** —Å —á–µ—Ç–∫–∏–º –ø–ª–∞–Ω–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏.

## üéØ **–°–¢–†–ê–¢–ï–ì–ò–Ø –ú–ò–ì–†–ê–¶–ò–ò**

### **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
```
1. –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê (BlockFactory) - –ü–†–ò–û–†–ò–¢–ï–¢
   ‚Üì (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)
2. –°–¢–ê–†–ê–Ø –°–ò–°–¢–ï–ú–ê (oldActionRegistry) - –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨
   ‚Üì (–µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)
3. –û–®–ò–ë–ö–ê - –ë–ª–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω
```

### **–ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞:**
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –±–ª–æ–∫–∞ –≤ `blocks/actions/`
3. ‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `BlockFactory`
4. üîÑ **–£–¥–∞–ª–∏—Ç—å –∏–∑ `oldActionRegistry`**
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ

## üìä **–°–¢–ê–¢–£–° –ú–ò–ì–†–ê–¶–ò–ò**

### **‚úÖ –£–ñ–ï –ú–ò–ì–†–ò–†–û–í–ê–ù–´ (8 –±–ª–æ–∫–æ–≤):**
- `sendMessage` ‚Üí `SendMessageAction`
- `giveItem` ‚Üí `GiveItemAction`
- `randomNumber` ‚Üí `RandomNumberAction`
- `setVar` ‚Üí `SetVarAction`
- `teleport` ‚Üí `TeleportAction`
- `wait` ‚Üí `WaitAction`
- `setBlock` ‚Üí `SetBlockAction`
- `broadcast` ‚Üí `BroadcastAction`

### **‚úÖ –£–ñ–ï –ú–ò–ì–†–ò–†–û–í–ê–ù–´ (4 —É—Å–ª–æ–≤–∏—è):**
- `isOp` ‚Üí `IsOpCondition`
- `hasItem` ‚Üí `HasItemCondition`
- `ifVarEquals` ‚Üí `IfVarEqualsCondition`
- `playerHealth` ‚Üí `PlayerHealthCondition`

### **üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –ö–ê–ù–î–ò–î–ê–¢–´ –ù–ê –ú–ò–ì–†–ê–¶–ò–Æ:**

#### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ø—Ä–æ—Å—Ç—ã–µ –±–ª–æ–∫–∏):**
- `spawnMob` ‚Üí `SpawnMobAction`
- `playSound` ‚Üí `PlaySoundAction`
- `effect` ‚Üí `EffectAction`
- `command` ‚Üí `CommandAction`

#### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ):**
- `addVar` ‚Üí `AddVarAction`
- `subVar` ‚Üí `SubVarAction`
- `mulVar` ‚Üí `MulVarAction`
- `divVar` ‚Üí `DivVarAction`

#### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (—Å–ª–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏):**
- `healPlayer` ‚Üí `HealPlayerAction`
- `setGameMode` ‚Üí `SetGameModeAction`
- `setTime` ‚Üí `SetTimeAction`
- `setWeather` ‚Üí `SetWeatherAction`

## üõ† **–ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô**

### **–≠—Ç–∞–ø 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–¢–ï–ö–£–©–ò–ô)**
- ‚úÖ –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ 12 –±–ª–æ–∫–æ–≤ —É–∂–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- üîÑ **–ù–£–ñ–ù–û: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ**
- üîÑ **–ù–£–ñ–ù–û: –£–¥–∞–ª–∏—Ç—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∏–∑ oldActionRegistry**

### **–≠—Ç–∞–ø 2: –ú–∞—Å—Å–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–°–õ–ï–î–£–Æ–©–ò–ô)**
- üîÑ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1 (4 –±–ª–æ–∫–∞)
- üîÑ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 2 (4 –±–ª–æ–∫–∞)
- üîÑ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 3 (4 –±–ª–æ–∫–∞)
- üîÑ –£–¥–∞–ª—è—Ç—å –±–ª–æ–∫–∏ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### **–≠—Ç–∞–ø 3: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏**
- üîÑ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –±–ª–æ–∫–∏
- üîÑ –£–¥–∞–ª–∏—Ç—å `oldActionRegistry` –∏ `oldConditionRegistry`
- üîÑ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `HybridScriptExecutor` –≤ `ScriptExecutor`
- üîÑ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã

## üìù **–ü–†–ò–ú–ï–† –ú–ò–ì–†–ê–¶–ò–ò –ë–õ–û–ö–ê**

### **–®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –±–ª–æ–∫–∞**
```java
// –°—Ç–∞—Ä—ã–π SendMessageAction
public void execute(ExecutionContext context) {
    Player player = context.getPlayer();
    String message = context.getCurrentBlock().getParameter("message");
    player.sendMessage(message);
}
```

### **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤**
```java
// ParameterArgument.java (—É–∂–µ —Å–æ–∑–¥–∞–Ω)
public class ParameterArgument implements Argument<TextValue> {
    private final String parameterName;
    
    @Override
    public Optional<TextValue> parse(CodeBlock block) {
        Object parameter = block.getParameter(parameterName);
        if (parameter != null) {
            return Optional.of(new TextValue(parameter.toString()));
        }
        return Optional.empty();
    }
}
```

### **–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–ª–æ–∫–∞**
```java
// blocks/actions/SendMessageAction.java
public class SendMessageAction implements BlockAction {
    private final Argument<TextValue> messageArgument = new ParameterArgument("message");
    
    @Override
    public void execute(ExecutionContext context) {
        Player player = context.getPlayer();
        if (player == null) return;
        
        TextValue messageValue = messageArgument.parse(context.getCurrentBlock())
            .orElse(null);
            
        if (messageValue == null) {
            player.sendMessage("¬ßc–û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä 'message'");
            return;
        }
        
        String finalMessage = messageValue.get(context);
        player.sendMessage(finalMessage);
    }
}
```

### **–®–∞–≥ 4: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ BlockFactory**
```java
// BlockFactory.java
private static void registerActions() {
    actionRegistry.put("sendMessage", new SendMessageAction());
    // ... –¥—Ä—É–≥–∏–µ –±–ª–æ–∫–∏
}
```

### **–®–∞–≥ 5: –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞**
```java
// HybridScriptExecutor.java
private void registerOldActions() {
    // oldActionRegistry.put("sendMessage", new SendMessageAction()); // –£–î–ê–õ–ï–ù–û
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏
}
```

## üéÆ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ú–ò–ì–†–ê–¶–ò–ò**

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
/testhybrid info    # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –º–∏–≥—Ä–∞—Ü–∏–∏
/testhybrid test    # –¢–µ—Å—Ç –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
/testhybrid list    # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–ª–æ–∫–æ–≤
```

### **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:**
1. **–°—Ç–∞—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** - –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ù–æ–≤—ã–µ –±–ª–æ–∫–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `[–ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê]`
3. **–°—Ç–∞—Ä—ã–µ –±–ª–æ–∫–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `[–°–¢–ê–†–ê–Ø –°–ò–°–¢–ï–ú–ê]`
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ü–û–°–õ–ï –ú–ò–ì–†–ê–¶–ò–ò**

### **‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏–π
- –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### **‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- –õ—É—á—à–∞—è –æ—Ç–ª–∞–¥–∫–∞

### **‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:**
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤
- –°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –∑–Ω–∞—á–µ–Ω–∏–π
- –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π
- –ë–ª–æ–∫–∏ –∏—Ç–µ—Ä–∞—Ü–∏–π

## üìÖ **–ì–†–ê–§–ò–ö –ú–ò–ì–†–ê–¶–ò–ò**

### **–ù–µ–¥–µ–ª—è 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è**
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏–≥—Ä–µ
- üîÑ –£–¥–∞–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞
- üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### **–ù–µ–¥–µ–ª—è 2: –ú–∞—Å—Å–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è**
- üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1 (4 –±–ª–æ–∫–∞)
- üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 2 (4 –±–ª–æ–∫–∞)
- üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞

### **–ù–µ–¥–µ–ª—è 3: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
- üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 3 (4 –±–ª–æ–∫–∞)
- üîÑ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞
- üîÑ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤ `ScriptExecutor`

### **–ù–µ–¥–µ–ª—è 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
- üîÑ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- üîÑ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üîÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ **–¶–ï–õ–¨**

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å–æ—Ö—Ä–∞–Ω–∏–≤ 100% –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ –¥–æ–±–∞–≤–∏–≤ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!**

---

**–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é? –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏–≥—Ä–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞!** üöÄ 